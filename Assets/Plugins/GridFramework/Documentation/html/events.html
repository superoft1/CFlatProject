<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<title>Grid Framework: Events</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js.txt"></script>
<script type="text/javascript" src="dynsections.js.txt"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js.txt"></script>
<script type="text/javascript" src="navtreedata.js.txt"></script>
<script type="text/javascript" src="navtree.js.txt"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js.txt"></script>
<script type="text/javascript" src="search/search.js.txt"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_html_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Grid Framework
   &#160;<span id="projectnumber">2.1.6</span>
   </div>
   <div id="projectbrief">Easy grid setup and scripting for Unity 3D</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js.txt"></script>
<script type="text/javascript" src="menu.js.txt"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('events.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Events </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>What is an event? </h2>
<p>Delegates and events are a native C# feature that lets you execute code when certain things happen. The <em>sender</em> sends out an event and the <em>listeners</em> who have subscribed to that event receive a notification and call an appropriate method. For example, if the player receives an invulnerability power-up it could send an event to all enemies, making them run away from the player. The important part is that the sender has no idea who is listening, it's the listeners who have to subscribe.</p>
<h2>Events from grids </h2>
<p>In Grid Framework there is an event sent every time one of the grid's properties is changed. You could use this in order to know when you have to perform recalculations and when it is save to store values. Renderers subscribe to the events of their grids for that reason. There is generally one event type for every public property of the grid and the event always contains the difference.</p>
<dl class="section note"><dt>Note</dt><dd>Since there is no proper way in Unity to be notified when an object's Transform (position, rotation or scale) has been changed the event will <em>not</em> be fired when the grid's Transform is being altered.</dd></dl>
<p>Here is an example that listens for when a rectangular grid's <code>Spacing</code> changes.</p>
<div class="fragment"><div class="line"><span class="keyword">using</span> <a class="code" href="namespace_unity_engine.html">UnityEngine</a>;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="keyword">class </span>EventTest : MonoBehaviour {</div><div class="line">    <span class="keyword">public</span> <a class="code" href="namespace_rect_grid.html">RectGrid</a> grid;  <span class="comment">// the grid we use for reference</span></div><div class="line"></div><div class="line">    <span class="comment">// subscribe to the event when the script becomes active</span></div><div class="line">    <span class="keywordtype">void</span> OnEnable() {</div><div class="line">        grid.SpacingChanged += <span class="keyword">new</span> <a class="code" href="namespace_rect_grid.html">RectGrid</a>.SpacingEventArgs(SomeMethod);</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// unsubscribe to the event when the script becomes inactive</span></div><div class="line">    <span class="keywordtype">void</span> OnDisable() {</div><div class="line">        grid.SpacingChanged -= <span class="keyword">new</span> <a class="code" href="namespace_rect_grid.html">RectGrid</a>.SpacingEventArgs(SomeMethod);</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// the method to call; it is important that the return type and parameters</span></div><div class="line">    <span class="comment">// match the delegate</span></div><div class="line">    <span class="keywordtype">void</span> SomeMethod(<span class="keywordtype">object</span> source, <a class="code" href="namespace_rect_grid.html">RectGrid</a>.SpacingEventArgs args) {</div><div class="line">      var delta = args.Difference;</div><div class="line">        Debug.Log(<span class="stringliteral">&quot;Spacing has changed by &quot;</span> + delta);</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --><p>The first thing we need to do is subscribe to the event; a good place for this would be when the script becomes active. In order to subscribe you call the object's event and then add via <code>+=</code> the method that will be called as a delegate. A delegate is similar to a function pointer in C or C++, it holds a reference to a function. It is important that the return type and amount and type of parameters matches the one of the delegate, but the actual contents of the method are entirely up to you. We can also unsubscribe to an event, which is done using <code>-=</code> when we want to stop listening. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.3.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sun Sep 10 2017 00:05:37 for Grid Framework by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png.txt" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
